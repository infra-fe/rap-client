(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[10],{"6J/3":function(e,n,t){"use strict";t.r(n);var a=t("q1tI"),r=t.n(a),o=t("dEAq"),c=t("H1Ra"),i=r.a.memo((e=>{e.demos;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"markdown"},r.a.createElement("h1",{id:"rapper2x---rapper30"},r.a.createElement(o["AnchorLink"],{to:"#rapper2x---rapper30","aria-hidden":"true",tabIndex:-1},r.a.createElement("span",{className:"icon icon-link"})),"Rapper2.x -> Rapper3.0"),r.a.createElement("h2",{id:"override-fetch"},r.a.createElement(o["AnchorLink"],{to:"#override-fetch","aria-hidden":"true",tabIndex:-1},r.a.createElement("span",{className:"icon icon-link"})),"Override fetch"),r.a.createElement("blockquote",null,r.a.createElement("p",null,"Before: v2")),r.a.createElement(c["a"],{code:"import { createFetch, defaultFetch } from 'rapper/index'\nimport axios from 'axios'\n\ncreateFetch(async ({ url, method, params, extra }) => {\n  try {\n    const response = await axios({\n      method,\n      url,\n      data: params,\n    })\n    console.log(response)\n    return response\n  } catch (error) {\n    console.error(error)\n  }\n})",lang:"ts"}),r.a.createElement("blockquote",null,r.a.createElement("p",null,"After: v3")),r.a.createElement("p",null,"In Rapper@v3, we have axios built in\uff0cso you can use ",r.a.createElement("code",null,"interceptor")," directly"),r.a.createElement(c["a"],{code:"import { http } from 'src/rapper'\n\nfunction overrideRapper() {\n  // axios's interceptor\n  http.interceptor.request.use((config) => config)\n}\n\noverrideRapper()\n\nhttp('GET/api/list')",lang:"ts"}),r.a.createElement("h2",{id:"config-baseurl"},r.a.createElement(o["AnchorLink"],{to:"#config-baseurl","aria-hidden":"true",tabIndex:-1},r.a.createElement("span",{className:"icon icon-link"})),"Config baseURL"),r.a.createElement("blockquote",null,r.a.createElement("p",null,"Before: v2")),r.a.createElement(c["a"],{code:"import { overrideFetch } from './rapper/index'\n\noverrideFetch({\n  prefix: '/api/app/mock/{projectId}',\n})",lang:"ts"}),r.a.createElement("blockquote",null,r.a.createElement("p",null,"After: v3"),r.a.createElement("p",null,"We have default baseURL built in:")),r.a.createElement(c["a"],{code:"export const http = createHttpRequest<IModels>({\n  baseURL:\n    process.env.NODE_ENV === 'production'\n      ? ''\n      : '/api/app/mock/{projectId}',\n})",lang:"ts"}),r.a.createElement("p",null,"If you want to custom by yourself\uff0cyou can use interceptor(base on axios)"),r.a.createElement(c["a"],{code:"import { http } from 'src/rapper'\n// config: AxiosRequestConfig\nhttp.interceptor.request.use((config) => {\n  config.baseURL = 'your baseURL'\n  return config\n})",lang:"ts"}),r.a.createElement("h3",{id:"other-configuration"},r.a.createElement(o["AnchorLink"],{to:"#other-configuration","aria-hidden":"true",tabIndex:-1},r.a.createElement("span",{className:"icon icon-link"})),"Other configuration"),r.a.createElement("p",null,"If you want to do more configuration\uff0cplz follow ",r.a.createElement(o["Link"],{to:"https://github.com/axios/axios#interceptors"},"interceptor in axios")),r.a.createElement(c["a"],{code:"import { http } from 'src/rapper'\n\n// axios's interceptor\nhttp.interceptor.request.use((config) => {\n  config.header = {\n    ...config.header,\n    Authorization: 'Bearer your token',\n  }\n  return config\n})\n\nhttp('GET/api/list')",lang:"ts"})))}));n["default"]=e=>{var n=r.a.useContext(o["context"]),t=n.demos;return r.a.useEffect((()=>{var n;null!==e&&void 0!==e&&null!==(n=e.location)&&void 0!==n&&n.hash&&o["AnchorLink"].scrollToAnchor(decodeURIComponent(e.location.hash.slice(1)))}),[]),r.a.createElement(i,{demos:t})}}}]);